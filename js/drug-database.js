/**
 * Comprehensive Drug Database for Antiepileptic and Common Medications
 * Used by the drug information modal for quick clinical reference
 */

window.DRUG_DATABASE = {
    // Antiepileptic Drugs (AEDs)
    'Phenytoin': {
        genericName: 'Phenytoin',
        brandNames: ['Dilantin', 'Eptoin'],
        mechanism: 'Blocks sodium channels, stabilizes neuronal membrane',
        indications: ['Generalized tonic-clonic seizures', 'Focal seizures', 'Status epilepticus'],
        dosageRange: 'Initial: 3-5 mg/kg/day; Maintenance: 4-8 mg/kg/day in divided doses',
        typicalDose: '200-400 mg/day in 2-3 divided doses',
        sideEffects: ['Gingival hyperplasia', 'Hirsutism', 'Coarse facial features', 'Rash', 'Diplopia', 'Ataxia', 'Nausea'],
        warnings: ['Teratogenic - avoid in pregnancy', 'Drug interactions (CYP450)', 'Requires monitoring of drug levels', 'Risk of SJS/TEN'],
        interactions: ['Increases metabolism of many drugs', 'Interactions with oral contraceptives', 'Interacts with warfarin'],
        monitoring: ['Serum levels (10-20 mcg/mL)', 'CBC, LFTs'],
        onset: '1-3 weeks',
        halfLife: '24 hours (highly variable)'
    },
    'Valproic Acid': {
        genericName: 'Valproic Acid (Sodium Valproate)',
        brandNames: ['Valprol'],
        class: 'Branched-chain carboxylic acid',
        mechanism: 'GABA potentiation, sodium channel blockade',
        indications: ['Absence seizures', 'Myoclonic seizures', 'Generalized seizures', 'Partial seizures'],
        dosageRange: 'Initial: 15 mg/kg/day; Maintenance: 30-60 mg/kg/day in divided doses',
        typicalDose: '1000-2000 mg/day in 2-3 divided doses',
        sideEffects: ['Weight gain', 'Hair loss', 'Tremor', 'Nausea', 'Drowsiness', 'Pancreatitis', 'Hepatotoxicity'],
        warnings: ['Teratogenic (fetal valproate syndrome)', 'Hepatotoxicity (especially children <2 years)', 'Pancreatitis (risk)', 'Thrombocytopenia'],
        interactions: ['Inhibits CYP450 enzymes', 'Increases levels of phenytoin and phenobarbital'],
        monitoring: ['Serum levels (50-100 mcg/mL)', 'Liver function tests', 'Platelet count', 'Pancreatic enzymes'],
        onset: '1-2 weeks',
        halfLife: '8-17 hours'
    },
    'Carbamazepine': {
        genericName: 'Carbamazepine',
        brandNames: ['Tegretol'],
        class: 'Dibenzazepine',
        mechanism: 'Sodium channel blockade, membrane stabilization',
        indications: ['Generalized tonic-clonic seizures', 'Focal seizures', 'Mixed seizure types', 'Trigeminal neuralgia'],
        dosageRange: 'Initial: 10-15 mg/kg/day; Maintenance: 20-30 mg/kg/day in 3-4 divided doses',
        typicalDose: '800-1200 mg/day in 3-4 divided doses',
        sideEffects: ['Dizziness', 'Ataxia', 'Blurred vision', 'Diplopia', 'Nausea', 'Rash (higher risk)', 'Hyponatremia'],
        warnings: ['SJS/TEN risk (especially HLA-B*1502)', 'Aplastic anemia (rare)', 'Hyponatremia', 'Teratogenic'],
        interactions: ['Potent CYP3A4 inducer', 'Metabolizes itself (autoinduction)', 'Decreases oral contraceptive efficacy'],
        monitoring: ['Serum levels (4-12 mcg/mL)', 'CBC, LFTs', 'Sodium levels', 'Skin monitoring'],
        onset: '1-3 weeks',
        halfLife: '25-65 hours (decreased with autoinduction)'
    },
    'Phenobarbital': {
        genericName: 'Phenobarbital',
        brandNames: ['Gardinal'],
        class: 'Barbiturate',
        mechanism: 'GABA potentiation, sodium channel blockade',
        indications: ['All seizure types except absence', 'Status epilepticus (IV)', 'Prophylaxis for febrile seizures'],
        dosageRange: 'Initial: 3-5 mg/kg/day; Maintenance: 2-4 mg/kg/day',
        typicalDose: '100-300 mg/day in 2 divided doses',
        sideEffects: ['Sedation', 'Cognitive dulling', 'Irritability', 'Rash', 'Osteomalacia'],
        warnings: ['Dependency risk', 'Severe hypersensitivity (DRESS)', 'Teratogenic', 'Withdrawal seizures possible'],
        interactions: ['Broad spectrum CYP450 inducer', 'Decreases many drug levels including anticoagulants'],
        monitoring: ['Serum levels (10-40 mcg/mL)', 'CBC, LFTs', 'Vitamin D levels'],
        onset: 'Variable; takes weeks for steady state',
        halfLife: '53-118 hours'
    },
    'Levetiracetam': {
        genericName: 'Levetiracetam',
        brandNames: ['Keppra', 'Inoset'],
        class: 'Pyrrolidine derivative',
        mechanism: 'SV2A binding (exact mechanism unclear), modulates neuronal excitability',
        indications: ['Focal seizures', 'Generalized tonic-clonic seizures', 'Myoclonic seizures', 'Adjunctive therapy'],
        dosageRange: 'Initial: 5-10 mg/kg/day; Maintenance: 20-30 mg/kg/day in 2 divided doses',
        typicalDose: '1000-3000 mg/day in 2 divided doses',
        sideEffects: ['Somnolence', 'Behavioral changes (irritability)', 'Dizziness', 'Fatigue', 'Headache'],
        warnings: ['Psychiatric effects (mood changes, aggression)', 'Suicidal ideation risk', 'Sudden unexplained nocturnal death'],
        interactions: ['Minimal CYP450 interactions', 'No significant drug interactions'],
        monitoring: ['Clinical observation', 'Psychiatric evaluation if needed'],
        onset: '1-2 weeks',
        halfLife: '6-8 hours',
        notes: 'No need for therapeutic drug monitoring, renal clearance important'
    },
    'Lamotrigine': {
        genericName: 'Lamotrigine',
        brandNames: ['Lamictal'],
        class: 'Phenyltriazine',
        mechanism: 'Sodium and calcium channel blockade, GABA enhancement',
        indications: ['Focal seizures', 'Generalized seizures', 'Absence seizures', 'Lennox-Gastaut syndrome'],
        dosageRange: 'Initial: 1 mg/kg/day; Gradual titration over weeks',
        typicalDose: '200-500 mg/day in 2 divided doses',
        sideEffects: ['Rash (20-30%, especially with rapid titration)', 'Diplopia', 'Dizziness', 'Ataxia', 'Tremor'],
        warnings: ['SJS/TEN risk (especially in children)', 'Slow titration required', 'Teratogenic potential'],
        interactions: ['Valproate increases lamotrigine levels 2x', 'Oral contraceptives reduce lamotrigine levels'],
        monitoring: ['Skin monitoring', 'Clinical assessment for rash'],
        onset: 'Slow - requires weeks of gradual titration',
        halfLife: '24 hours (32 hours with valproate)'
    },
    'Oxcarbazepine': {
        genericName: 'Oxcarbazepine',
        brandNames: ['Trileptal', 'Oxtellar XR'],
        class: 'Dibenzazepine (carbamazepine analog)',
        mechanism: 'Sodium channel blockade',
        indications: ['Focal seizures', 'Adjunctive in generalized seizures', 'Alternative to carbamazepine'],
        dosageRange: 'Initial: 8-10 mg/kg/day; Maintenance: 20-40 mg/kg/day in 2-3 divided doses',
        typicalDose: '900-2400 mg/day in 2-3 divided doses',
        sideEffects: ['Hyponatremia', 'Dizziness', 'Fatigue', 'Coordination problems', 'Rash (less common than CBZ)', 'Nausea'],
        warnings: ['Cross-reactivity with carbamazepine (25%)', 'Hyponatremia risk', 'SJS/TEN (rare)', 'Teratogenic'],
        interactions: ['Weak CYP3A4 inducer (less than CBZ)', 'Fewer drug interactions than carbamazepine'],
        monitoring: ['Serum sodium levels', 'CBC', 'Clinical assessment'],
        onset: '1-2 weeks',
        halfLife: '2 hours (metabolite: 9 hours)'
    },
    'Ethosuximide': {
        genericName: 'Ethosuximide',
        brandNames: ['Zarontin'],
        class: 'Succinimide',
        mechanism: 'T-type calcium channel blockade',
        indications: ['Absence seizures (first-line)', 'Myoclonic absence seizures'],
        dosageRange: 'Initial: 250 mg/day; Maintenance: 15-40 mg/kg/day in 2-3 divided doses',
        typicalDose: '750-1250 mg/day in 2-3 divided doses',
        sideEffects: ['Gastrointestinal upset', 'Hiccups', 'Psychosis', 'Blood dyscrasias (rare)', 'Rash', 'Headache'],
        warnings: ['Systemic lupus erythematosus (rare)', 'Aplastic anemia (rare)', 'Hepatotoxicity (rare)', 'Drug-induced SLE'],
        interactions: ['Minimal drug interactions'],
        monitoring: ['Serum levels (40-100 mcg/mL)', 'CBC, LFTs', 'Urinalysis'],
        onset: '1-2 weeks',
        halfLife: '30-40 hours in children, 40-60 hours in adults'
    },
    'Gabapentin': {
        genericName: 'Gabapentin',
        brandNames: ['Neurontin', 'Gralise', 'Horizant'],
        class: 'Amino acid analog',
        mechanism: 'Alpha-2-delta subunit binding, GABA synthesis increase',
        indications: ['Focal seizures (adjunctive)', 'Neuropathic pain', 'Postherpetic neuralgia'],
        dosageRange: 'Initial: 10 mg/kg/day; Titrate gradually; Maintenance: 30-40 mg/kg/day in 3 divided doses',
        typicalDose: '900-3600 mg/day in 3 divided doses',
        sideEffects: ['Somnolence', 'Dizziness', 'Ataxia', 'Fatigue', 'Weight gain', 'Euphoria'],
        warnings: ['Behavioral changes (rare)', 'Respiratory depression in older adults', 'Dependency potential'],
        interactions: ['Minimal CYP450 interactions', 'Morphine increases gabapentin absorption'],
        monitoring: ['Clinical observation', 'Renal function (renally cleared)'],
        onset: '1-2 weeks',
        halfLife: '5-7 hours',
        notes: 'Renal dosing required; no therapeutic drug monitoring available'
    },
    'Pregabalin': {
        genericName: 'Pregabalin',
        brandNames: ['Lyrica'],
        class: 'Amino acid analog',
        mechanism: 'Alpha-2-delta subunit binding',
        indications: ['Focal seizures (adjunctive)', 'Fibromyalgia', 'Diabetic neuropathy', 'Anxiety'],
        dosageRange: 'Initial: 5-10 mg/kg/day; Maintenance: 15-30 mg/kg/day in 2-3 divided doses',
        typicalDose: '300-600 mg/day in 2-3 divided doses',
        sideEffects: ['Somnolence', 'Dizziness', 'Weight gain', 'Blurred vision', 'Dry mouth', 'Fluid retention'],
        warnings: ['Dependency and withdrawal potential', 'Behavioral changes (rare)', 'Angioedema risk'],
        interactions: ['Minimal CYP450 interactions'],
        monitoring: ['Clinical observation', 'Renal function'],
        onset: '1-2 weeks',
        halfLife: '6.3 hours'
    },
    'Topiramate': {
        genericName: 'Topiramate',
        brandNames: ['Topamax'],
        class: 'Sulfamate-substituted monosaccharide',
        mechanism: 'Multiple mechanisms: GABA enhancement, sodium channel blockade, AMPA antagonism, CA inhibition',
        indications: ['Focal and generalized seizures', 'Lennox-Gastaut syndrome', 'Migraine prophylaxis'],
        dosageRange: 'Initial: 1-3 mg/kg/day; Maintenance: 5-9 mg/kg/day in 2 divided doses',
        typicalDose: '200-400 mg/day in 2 divided doses',
        sideEffects: ['Cognitive effects (memory, concentration)', 'Weight loss', 'Paresthesias', 'Acute myopia', 'Hypohidrosis', 'Acidosis'],
        warnings: ['Acute angle-closure glaucoma risk', 'Teratogenic (cleft palate risk)', 'Cognitive impairment', 'Metabolic acidosis'],
        interactions: ['Carbonic anhydrase inhibitor (risk of kidney stones with other CAIs)', 'May decrease oral contraceptive efficacy'],
        monitoring: ['Serum bicarbonate', 'Vision testing', 'Cognitive function', 'Kidney function'],
        onset: '1-3 weeks',
        halfLife: '19-25 hours'
    },
    'Lacosamide': {
        genericName: 'Lacosamide',
        brandNames: ['Vimpat'],
        class: 'Functionalized amino acid',
        mechanism: 'Selective sodium channel enhancement',
        indications: ['Focal seizures (adjunctive)', 'Primary generalized tonic-clonic seizures'],
        dosageRange: 'Initial: 4-10 mg/kg/day; Maintenance: 6-12 mg/kg/day in 2 divided doses',
        typicalDose: '200-400 mg/day in 2 divided doses',
        sideEffects: ['Dizziness', 'Headache', 'Diplopia', 'Blurred vision', 'Nausea', 'Coordination problems'],
        warnings: ['PR interval prolongation', 'Cardiac conduction effects', 'Drug reaction with eosinophilia and systemic symptoms (DRESS)'],
        interactions: ['Minimal CYP450 interactions'],
        monitoring: ['ECG at baseline and with dose changes', 'Clinical observation'],
        onset: '1-2 weeks',
        halfLife: '13 hours'
    },
    'Levetiracetam (LEV)': {  // Alternate name
        genericName: 'Levetiracetam',
        brandNames: ['Keppra', 'Inoset'],
        class: 'Pyrrolidine derivative',
        mechanism: 'SV2A binding',
        indications: ['Focal seizures', 'Generalized seizures'],
        dosageRange: 'Initial: 5-10 mg/kg/day; Maintenance: 20-30 mg/kg/day',
        typicalDose: '1000-3000 mg/day in 2 divided doses',
        sideEffects: ['Somnolence', 'Behavioral changes', 'Dizziness'],
        warnings: ['Psychiatric effects', 'Suicidal ideation risk'],
        interactions: ['Minimal CYP450 interactions'],
        monitoring: ['Clinical observation'],
        onset: '1-2 weeks',
        halfLife: '6-8 hours'
    },
    'Sodium Valproate': {  // Alternate name
        genericName: 'Valproic Acid (Sodium Valproate)',
        brandNames: ['Depakote', 'Convulex'],
        class: 'Branched-chain carboxylic acid',
        mechanism: 'GABA potentiation, sodium channel blockade',
        indications: ['Absence seizures', 'Myoclonic seizures', 'Generalized seizures'],
        dosageRange: 'Initial: 15 mg/kg/day; Maintenance: 30-60 mg/kg/day',
        typicalDose: '1000-2000 mg/day in 2-3 divided doses',
        sideEffects: ['Weight gain', 'Hair loss', 'Tremor', 'Nausea'],
        warnings: ['Teratogenic', 'Hepatotoxicity', 'Pancreatitis risk'],
        interactions: ['Inhibits CYP450 enzymes'],
        monitoring: ['Serum levels (50-100 mcg/mL)', 'LFTs'],
        onset: '1-2 weeks',
        halfLife: '8-17 hours'
    }
};

// Log that database is loaded
window.Logger && window.Logger.info && window.Logger.info('[DrugDB] Comprehensive drug database loaded with', Object.keys(window.DRUG_DATABASE).length, 'entries');
